<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: webaudiox | Jerome Etienne.js Blog]]></title>
  <link href="http://blog.jetienne.com/blog/categories/webaudiox/atom.xml" rel="self"/>
  <link href="http://blog.jetienne.com/"/>
  <updated>2014-03-04T14:01:11+01:00</updated>
  <id>http://blog.jetienne.com/</id>
  <author>
    <name><![CDATA[Jerome Etienne]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[WebAudiox.jsfx.js - 8 bit procedural sound generation with Web Audio API]]></title>
    <link href="http://blog.jetienne.com/blog/2014/02/27/webaudiox-jsfx/"/>
    <updated>2014-02-27T07:43:00+01:00</updated>
    <id>http://blog.jetienne.com/blog/2014/02/27/webaudiox-jsfx</id>
    <content type="html"><![CDATA[<p><strong>This post is part of a series about Webaudiox.js.
<a href="/blog/categories/webaudiox/">Check It Out</a></strong></p>

<p>Last week we started talking about
<a href="https://github.com/jeromeetienne/webaudiox">webaudiox</a>.
In this
<a href="http://blog.jetienne.com/blog/2014/02/18/webaudiox-a-dry-library-for-webaudio-api/">first post</a>,
we talked about the project and started to explain the helpers <code>webaudiox.shim.js</code>
and <code>webaudiox.loadbuffer.js</code>.
This week we are gonna focus on <code>webaudiox.jsfx.js</code>.
This helper provides you an easy way to use
<a href="http://www.egonelbre.com/js/jsfx/">jsfx.js</a>
with your Web Audio API games.</p>

<p><a href='http://jeromeetienne.github.io/webaudiox/examples/jsfx.html' target='_blank'><input type="button" value='Try Demo Now' style='font-size:400%;' /></a></p>

<iframe width="420" height="315" src="http://www.youtube.com/embed/-Lo433Bk2RY" frameborder="0" allowfullscreen></iframe>




<!-- more -->


<h2>webaudiox.jsfx.js</h2>

<p><a href="https://github.com/egonelbre/jsfx">jsfx.js</a>
is a library to generate procedural sound, very 8-bit kindof sound.
See <a href="http://www.egonelbre.com/js/jsfx/">jsfx demo page</a> for details on this fun library
by <a href="https://twitter.com/egonelbre/">@egonelbre</a>.
It is useful because you can generate lots of different sound easily without downloading
anything.</p>

<h4>Show Don't Tell</h4>

<ul>
<li><a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/webaudiox.jsfx.js">webaudiox.jsfx.js</a>
the source itself.</li>
<li><a href="http://jeromeetienne.github.io/webaudiox/examples/jsfx.html">examples/jsfx.html</a>
[<a href="https://github.com/jeromeetienne/webaudiox/blob/master/examples/jsfx.html">view source</a>] :
It shows a basic usage of this helper</li>
<li><a href="http://jeromeetienne.github.io/webaudiox/examples/jsfx-basic.html">examples/jsfx-basic.html</a>
[<a href="https://github.com/jeromeetienne/webaudiox/blob/master/examples/jsfx-basic.html">view source</a>] :
It shows a basic usage of this helper</li>
</ul>


<h2>Show It Live</h2>

<iframe width="100%" height="480" src="http://jeromeetienne.github.io/webaudiox/examples/jsfx.html" frameborder="0" allowfullscreen></iframe>


<h4>How To Use It ?</h4>

<p>Let's see how to use it. First you create a
<a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#AudioContext-section">Audio Context</a> like this.</p>

<p><code>
var context = new AudioContext()
</code></p>

<p>Now you get the famous <code>lib</code> parameter from
<a href="https://github.com/egonelbre/jsfx">jsfx</a>. You can generate some on its
<a href="http://www.egonelbre.com/js/jsfx/">demo page</a>.
From <code>lib</code>, you will generate a
<a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#AudioBuffer">Audio Buffer</a>
.</p>

<p><code>javascript
var lib     = ["square",0.0000,0.4000,0.0000,0.3200,0.0000,0.2780,20.0000,496.0000,2400.0000,0.4640,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0235,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]
// generate the audio buffer from jsfx.js lib
var buffer  = WebAudiox.getBufferFromJsfx(context, lib)
</code></p>

<p>Now we are all ready to play a sound! So let's do that.</p>

<p><code>javascript
var source  = context.createBufferSource()
source.buffer   = buffer
source.connect(context.destination)
source.start(0)
</code></p>

<h2>Conclusion</h2>

<p>So now you can easily generate procedural 8bit sound for Web Audio API.
<a href="https://github.com/egonelbre/jsfx">jsfx.js</a> is a very nice library with
a retro theme that i love :)
Somehow, it seems a bit strange to do retro sounds with a modern web audio api.
So now you can play
<a href="http://en.wikipedia.org/wiki/Nintendo_Entertainment_System">NES</a>
kind of sound with the dopler and localisation of the webaudio api.
Go For it!</p>

<p>Next week, i will be talk about sound analysis and how your programm can get to
know about what is being played.
so we will talk about
<a href="https://github.com/jeromeetienne/webaudiox#webaudioxbytetonormalizedfloat32arrayjs">webaudiox.analyser2canvas.js</a>
and
<a href="https://github.com/jeromeetienne/webaudiox#webaudioxanalyser2canvasjs">webaudiox.analyser2volume.js</a>.</p>

<p>That's all for today folks! Have Fun :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WebAudiox.js - a DRY library for Web Audio API]]></title>
    <link href="http://blog.jetienne.com/blog/2014/02/18/webaudiox-a-dry-library-for-webaudio-api/"/>
    <updated>2014-02-18T07:43:00+01:00</updated>
    <id>http://blog.jetienne.com/blog/2014/02/18/webaudiox-a-dry-library-for-webaudio-api</id>
    <content type="html"><![CDATA[<p><strong>This post is part of a series about Webaudiox.js.
<a href="/blog/categories/webaudiox/">Check It Out</a></strong></p>

<p><a href="https://github.com/jeromeetienne/webaudiox">Webaudiox.js</a>
is a bunch of helpers for
<a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html">WebAudio API</a>.
I wrote them a while back.
Now I would like to make a series of posts about it. This post is the first.
I plan to publish one post per week explaining WebAudiox the marvels you can do with WebAudio API.
I hope we will enjoy yourselves in the process :)</p>

<iframe width="420" height="315" src="http://www.youtube.com/embed/3cSAu2mZHqU" frameborder="0" allowfullscreen></iframe>




<!-- more -->


<h2>What is a DRY library ?</h2>

<p><a href="https://github.com/jeromeetienne/webaudiox">Webaudiox.js</a>
is a DRY library, as in <strong>Dont Repeat Yourself</strong> library.
It isn't a library per se.
I took the tasks I kept repeating when doing Web Audio API and put each of them in its own little helper file.
WebAudiox has more than 10 of them.
Each of them got a single pupose and try to do it well.
Most of them are very small, 50 lines on average, so you can easily look at the code. Additionaly, they have no dependancies so it is easier and faster to understand.</p>

<p>You can use any of them independantly.
It makes it very light to include these in your own code.
There is a
<a href="https://github.com/jeromeetienne/webaudiox/build/">webaudiox build</a>
which bundles them though.
This is provided for convenience.
It is just the concatenation of all the helpers.</p>

<h2>Let's get Started</h2>

<p>We will start by a short intro of the library,
followed by 2 basic helpers,
<a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/webaudiox.shim.js">webaudiox.shim.js</a> to handle vendor prefix for you
, and
<a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/webaudiox.loadbuffer.js">webaudiox.loadbuffer.js</a> to load and decode sounds.</p>

<p>Here is a simple example which loads a sound and plays it.
It initializes the AudioContext, downloads a sound with <code>WebAudiox.loadBuffer()</code> and plays it with <code>.start(0)</code></p>

<p>```javascript
// create WebAudio API context
var context = new AudioContext()</p>

<p>// load a sound and play it immediatly
WebAudiox.loadBuffer(context, 'sound.wav', function(buffer){</p>

<pre><code>    // init AudioBufferSourceNode
    var source  = context.createBufferSource();
    source.buffer   = buffer
    source.connect(context.destination)

    // start the sound now
    source.start(0);
</code></pre>

<p>});
```</p>

<h2>How To Install It ?</h2>

<p>You can download the build with a usual <code>&lt;script&gt;</code>.
The easiest is to get
<a href="https://raw.github.com/jeromeetienne/webaudiox/master/build/webaudiox.js">webaudiox.js</a>
in <code>/build</code> directory.</p>

<p><code>html
 &lt;script src='webaudiox.js'&gt;&lt;/script&gt;
</code></p>

<p><a href="http://bower.io/">bower</a> is supported if you want. Just use</p>

<p><code>bash
bower install webaudiox
</code></p>

<h1>webaudiox.shim.js</h1>

<p>This helper does a <a href="http://en.wikipedia.org/wiki/Shim_(computing)">shim</a> which handles
the vendor prefix, so you don't have to. Typically it contains code like</p>

<p><code>javascript
window.AudioContext = window.AudioContext || window.webkitAudioContext;
</code></p>

<h3>Show Don't Tell</h3>

<ul>
<li><a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/webaudiox.shim.js">webaudiox.shim.js</a>
the source itself.</li>
<li><a href="http://jeromeetienne.github.io/webaudiox/examples/jsfx.html">examples/jsfx.html</a>
[<a href="https://github.com/jeromeetienne/webaudiox/blob/master/examples/jsfx.html">view source</a>] :
It shows a basic usage of this helper.</li>
</ul>


<h1>webaudiox.loadbuffer.js</h1>

<p>This helper loads sound.
It is a function which loads the sound from an <code>url</code> and decodes it.</p>

<h2>Show Don't Tell</h2>

<ul>
<li><a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/webaudiox.loadbuffer.js">webaudiox.loadbuffer.js</a>
the source itself.</li>
<li><a href="http://jeromeetienne.github.io/webaudiox/examples/lineout.html">examples/lineout.html</a>
[<a href="https://github.com/jeromeetienne/webaudiox/blob/master/examples/lineout.html">view source</a>] :
It shows a basic usage of this helper.</li>
</ul>


<h2>Usage</h2>

<p>```javascript
WebAudiox.loadBuffer(context, url, function(buffer){</p>

<pre><code>// notified when the url has been downloaded and the sound decoded.
</code></pre>

<p>}, function(){</p>

<pre><code>// notified if an error occurs
</code></pre>

<p>});
```</p>

<h2>Scheduling Download</h2>

<p>In real-life cases, like games, you want to be sure all your sounds
are ready to play before the user starts playing.
So here is a way to schedule your sound downloads simply.
There is global onLoad callback <code>WebAudiox.loadBuffer.onLoad</code>
This function is notified everytime .loadBuffer() load something.
You can overload it to fit your need.
Go here for an
<a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/soundsbank.html">usage example</a>.</p>

<p>```javascript
// context is the webaudio API context
// url is where to download the sound
// buffer is the just loaded buffer
WebAudiox.loadBuffer.onLoad = function(context, url, buffer){</p>

<pre><code>// put your own stuff here
// ...
</code></pre>

<p>}
```</p>

<p>Additionally there is <code>WebAudiox.loadBuffer.inProgressCount</code>.
It is counter of all the .loadBuffer in progress.
It is useful to know that all your sounds have been loaded.</p>

<h1>Conclusion</h1>

<p>So, now we know how to easily load sounds for web audio api.
We can even schedule the download. We got rid of the interoperativity issues with the shim. Rather cool for a first post.
Next post will be about
<a href="https://github.com/jeromeetienne/webaudiox/blob/master/lib/webaudiox.jsfx.js">webaudiox.jsfx.js</a>,
a helper to use <a href="http://www.egonelbre.com/js/jsfx/">jsfx.js</a> with Web Audio API.
<a href="http://www.egonelbre.com/js/jsfx/">jsfx.js</a>
is a very fun library which generates retro games sounds.
The type of sounds heard in 80's arcades :)</p>

<p>That's all folk, have fun!</p>
]]></content>
  </entry>
  
</feed>
